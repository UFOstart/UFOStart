<%inherit file="../layout.html"/>
<%namespace file="hnc:forms/templates/baseform.html" name="baseform"/>
<%namespace file="ufostart:templates/common/standard_form.html" name="standard_form"/>
<%namespace file="ufostart:templates/common/widgets.html" name="form"/>

<%block name="title">${u' | '.join(view.site_title)}</%block>

<%def name="content()">
    <div class="container">

        <div class="row mar-top-2">
            <div class="col-lg-12">
                <h2 class="section-title">
                    <span>${_("OnboardingPage.Title")|n}</span>
                </h2>
            </div>
        </div>
        <div class="row mar-top-2">
            <div class="col-lg-9 box-dark">
                <div class="role-toggle-target">

                    <div class="row mar-top-1">
                        <div class="col-lg-4">
                            <div class="text-center">
                                <div class="role-icons expert"></div>
                            </div>
                            <div class="mar-top-2">
                                <a class="btn btn-primary btn-lg btn-block btn-toggle-role" data-class="show-expert">Expert</a>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="text-center">
                                <div class="role-icons investor"></div>
                            </div>
                            <div class="mar-top-2">
                                <a class="btn btn-primary btn-lg btn-block btn-toggle-role" data-class="show-investor">Investor</a>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="text-center">
                                <div class="role-icons founder"></div>
                            </div>
                            <div class="mar-top-2">
                                <a class="btn btn-primary btn-lg btn-block btn-toggle-role" data-class="show-founder">Founder</a>
                            </div>
                        </div>
                    </div>

                    <div class="expert-form mar-top-3">
                        <h3>
                            ${_("OnboardingPage.Expert.Headline")|n}
                        </h3>
                        ${_("OnboardingPage.Expert.Explanation")|n}
                        <%form:build_base_form form="${view.schemas['expert']}" values="${values}" errors="${errors}">
                            <button type="submit" class="btn btn-primary">${_("OnboardingPage.Expert.ProceedButton")|n}</button>
                            <a class="btn btn-default btn-reset-role">Cancel</a>
                        </%form:build_base_form>
                    </div>

                    <div class="investor-form mar-top-3">
                        <h3>
                            ${_("OnboardingPage.Investor.Headline")|n}
                        </h3>
                        ${_("OnboardingPage.Investor.Explanation")|n}
                        <%form:build_base_form form="${view.schemas['investor']}" values="${values}" errors="${errors}">
                            <button type="submit" class="btn btn-primary">${_("OnboardingPage.Investor.ProceedButton")|n}</button>
                            <a class="btn btn-default btn-reset-role">Cancel</a>
                        </%form:build_base_form>
                    </div>
                    <div class="founder-form mar-top-3">
                        <h3>
                            ${_("OnboardingPage.Founder.Headline")|n}
                        </h3>
                        ${_("OnboardingPage.Founder.Explanation")|n}
                        <%form:build_base_form form="${view.schemas['founder']}" values="${values}" errors="${errors}">
                            <button type="submit" class="btn btn-primary">${_("OnboardingPage.Founder.ProceedButton")|n}</button>
                            <a class="btn btn-default btn-reset-role">Cancel</a>
                        </%form:build_base_form>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                ${self.wtfBox()}
            </div>
        </div>
    </div>
</%def>

<%def name="wtfBox()">
    <div class="wtf-box">
        <h2 class="wtf-title">
            ${_("OnboardingPage.Help.Title")|n}
        </h2>
        <div class="wtf-content mar-top-1">
            ${_("OnboardingPage.Help.Text")|n}
        </div>
    </div>
</%def>


<%def name="post_scripts()">
    ${standard_form.simple_scripts()}
    <script type="text/javascript">
    $(function(){
        var resetCls = "role-toggle-target";
        $(".btn-reset-role").on({
            click: function(e){
                $(e.target).closest("."+resetCls).attr('class', resetCls);
            }
        });
        $(".btn-toggle-role").on({
            click: function(e){
                $(e.target).closest("."+resetCls).attr('class', resetCls +' '+ $(e.currentTarget).data("class"));
            }
        });
    });
    </script>
</%def>